(this["webpackJsonpvideo-games-display"]=this["webpackJsonpvideo-games-display"]||[]).push([[0],{12:function(e,a,t){e.exports={block:"MainPage_block__1iErS",blockWithHeadingAndSorting:"MainPage_blockWithHeadingAndSorting__HtXfT",heading:"MainPage_heading__3sOPl",funcHeader:"MainPage_funcHeader__28dAX",Button:"MainPage_Button__LCdbX",gameBlock:"MainPage_gameBlock__2e1R7"}},14:function(e,a,t){e.exports={block:"Game_block__3W_dN",back:"Game_back__21I4q",description:"Game_description__1hIbk",heading4:"Game_heading4__1AkXt",releasedAndRating:"Game_releasedAndRating__2_BF3",released:"Game_released__32Kti",rating:"Game_rating__3X4pJ"}},19:function(e,a,t){e.exports={block:"GamePage_block__3uiz6",header:"GamePage_header__2NMcz",link:"GamePage_link__KKIep"}},22:function(e,a,t){e.exports={wrapper:"PlatformFiltering_wrapper__oQxEG",allPlatforms:"PlatformFiltering_allPlatforms__39QRN",block:"PlatformFiltering_block__1ic3U",button:"PlatformFiltering_button__3NDFB"}},23:function(e,a,t){e.exports={wrapper:"SortingPanel_wrapper__1NelC",panel:"SortingPanel_panel__22P01",itemsBlock:"SortingPanel_itemsBlock__24155",button:"SortingPanel_button__2aYby"}},27:function(e,a,t){e.exports={lineBlock:"SearchLine_lineBlock__42HR0",lineInput:"SearchLine_lineInput__20Gdx",lineButton:"SearchLine_lineButton__2Lzow"}},46:function(e,a,t){e.exports={image:"Slider_image__1d1lr"}},47:function(e,a,t){e.exports={display:"App_display__1sgrU"}},56:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(24),s=t.n(r),i=t(11),o=t(16),l=(t(56),t(17)),d=t(44),u=t(10),m=t.n(u),b=t(18),j=t(28),h=t(4),f=t(45),p=t.n(f).a.create({baseURL:"https://api.rawg.io/api",params:{key:"79d35934fcc04ca2ab10df0014b83ba0"}}),g=function(e,a,t){return p.get("games",{params:{page:e,page_size:a,ordering:t}})},O=function(e,a,t,n){var c=n?{parent_platforms:n}:{};return p.get("games",{params:Object(h.a)({page:e,page_size:a,search:t},c)})},_=function(e){return p.get("games/".concat(e))},k=function(e){return p.get("games/".concat(e,"/screenshots"))},x={games:[],lastPage:0,isAddGames:!0,parentPlatforms:[{id:"1",name:"PC",isChecked:!1},{id:"2",name:"Play Station",isChecked:!1},{id:"3",name:"Xbox",isChecked:!1},{id:"4",name:"iOS",isChecked:!1},{id:"5",name:"Apple Macintosh",isChecked:!1},{id:"6",name:"Linux",isChecked:!1},{id:"7",name:"Nintendo",isChecked:!1},{id:"8",name:"Android",isChecked:!1},{id:"9",name:"Atari",isChecked:!1},{id:"10",name:"Commodore / Amiga",isChecked:!1},{id:"11",name:"SEGA",isChecked:!1},{id:"12",name:"3DO",isChecked:!1},{id:"13",name:"Neo Geo",isChecked:!1},{id:"14",name:"Web",isChecked:!1}],checkedParentPlatforms:"",checkedGame:null,checkedGameScreenshots:[]},P=function(e,a,t){return{type:"GAMES/SET_GAMES",payload:{games:e,page:a,isAddGames:t}}},S=function(e,a,t){return{type:"GAMES/SET_GAMES_AFTER_SEARCHING_AND_SORTING",payload:{games:e,page:a,isAddGames:t}}},G=function(e,a){return{type:"GAMES/SET_PARENT_PLATFORM_CHECKED",payload:{id:e,value:a}}},v=function(e,a){return{type:"GAMES/CHOOSE_CHECKED_PARENT_PLATFORMS",payload:{parentPlatforms:e,checkedParentPlatforms:a}}},E=function(e){return{type:"GAMES/SET_GAME_DETAILS",payload:e}},A=function(e){return{type:"GAMES/SET_GAME_SCREENSHOTS",payload:e}},C=function(){return{type:"GAMES/CLEAR_GAME_SCREENSHOTS"}},N=function(){return function(){var e=Object(b.a)(m.a.mark((function e(a,t){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t().games.lastPage,e.next=3,g(n+1,15);case 3:c=e.sent,a(P(c.data.results,n+1,!!c.data.next));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},y=Object(l.c)({games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GAMES/SET_GAMES":return Object(h.a)(Object(h.a)({},e),{},{games:[].concat(Object(j.a)(e.games),Object(j.a)(a.payload.games)),lastPage:a.payload.page,isAddGames:a.payload.isAddGames});case"GAMES/SET_GAMES_AFTER_SEARCHING_AND_SORTING":return Object(h.a)(Object(h.a)({},e),{},{games:Object(j.a)(a.payload.games),lastPage:a.payload.page,isAddGames:a.payload.isAddGames});case"GAMES/SET_PARENT_PLATFORM_CHECKED":return Object(h.a)(Object(h.a)({},e),{},{parentPlatforms:e.parentPlatforms.map((function(e){return e.id===a.payload.id?Object(h.a)(Object(h.a)({},e),{},{isChecked:a.payload.value}):e}))});case"GAMES/CHOOSE_CHECKED_PARENT_PLATFORMS":for(var t=a.payload.parentPlatforms,n=a.payload.checkedParentPlatforms,c=0;c<t.length;c++)!0===t[c].isChecked&&(n.length?n+=","+t[c].id:n+=t[c].id);return Object(h.a)(Object(h.a)({},e),{},{checkedParentPlatforms:n});case"GAMES/SET_GAME_DETAILS":return Object(h.a)(Object(h.a)({},e),{},{checkedGame:a.payload});case"GAMES/SET_GAME_SCREENSHOTS":return Object(h.a)(Object(h.a)({},e),{},{checkedGameScreenshots:a.payload});case"GAMES/CLEAR_GAME_SCREENSHOTS":return Object(h.a)(Object(h.a)({},e),{},{checkedGameScreenshots:[]});default:return e}}}),M=Object(l.d)(y,Object(l.a)(d.a)),H=t(3),T=t(19),R=t.n(T),w=t(13),B=t(46),L=t.n(B),V=t(1),I=c.a.memo((function(e){var a=e.checkedGameScreenshots,t=Object(n.useState)(0),c=Object(w.a)(t,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){return setInterval((function(){s((function(e){return e===a.length-1?0:e+1}))}),5e3),function(){return clearInterval()}}),[a]),Object(V.jsx)("div",{children:Object(V.jsx)("img",{src:a[r].image,alt:"some screenshot",className:L.a.image})})})),F=function(e){var a=e.checkedGame,t=e.checkedGameScreenshots;return Object(V.jsxs)("div",{className:R.a.block,children:[Object(V.jsxs)("div",{className:R.a.header,children:[Object(V.jsx)("h1",{children:a.name}),Object(V.jsx)(o.b,{to:"/",className:R.a.link,children:"\u2190 Back to catalog"})]}),Object(V.jsx)(I,{checkedGameScreenshots:t}),Object(V.jsx)("h2",{children:"About:"}),Object(V.jsx)("p",{className:R.a.description,children:a.description_raw}),Object(V.jsx)("a",{href:a.website,className:R.a.link,children:"Go to website"})]})},D=function(){var e=Object(i.b)(),a=Object(H.g)().slug,t=Object(i.c)((function(e){return e.games.checkedGame})),c=Object(i.c)((function(e){return e.games.checkedGameScreenshots}));return Object(n.useEffect)((function(){e(C()),e(function(e){return function(){var a=Object(b.a)(m.a.mark((function a(t){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k(e);case 2:n=a.sent,t(A(n.data.results));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a)),e(function(e){return function(){var a=Object(b.a)(m.a.mark((function a(t){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_(e);case 2:n=a.sent,t(E(n.data));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a))}),[a,e]),t&&c.length?Object(V.jsx)("div",{children:Object(V.jsx)(F,{checkedGame:t,checkedGameScreenshots:c})}):Object(V.jsx)("div",{children:"Game loading..."})},K=t(14),X=t.n(K),z=c.a.memo((function(e){var a=Object(H.f)();return Object(V.jsxs)("div",{className:X.a.block,onClick:function(){a.push("/game/".concat(e.slug))},children:[Object(V.jsx)("img",{src:e.background,alt:"background",className:X.a.back}),Object(V.jsxs)("div",{className:X.a.description,children:[Object(V.jsx)("div",{className:X.a.heading4,children:e.name}),Object(V.jsxs)("div",{className:X.a.releasedAndRating,children:[Object(V.jsx)("div",{className:X.a.released,children:e.released}),e.rating&&Object(V.jsx)("div",{className:X.a.rating,children:e.rating})]})]})]})})),W=t(22),U=t.n(W),J=function(e){var a=e.id,t=e.checked,n=e.setParentPlatformChecked,c=e.name;return Object(V.jsxs)("div",{children:[Object(V.jsx)("input",{type:"checkbox",name:"platrformParant",id:a,checked:t,onChange:function(e){n(a,e.currentTarget.checked)}}),c]})},Q=function(e){var a=e.platformsVisibleHandler,t=e.parentPlatforms,n=e.setParentPlatformChecked,c=e.chooseCheckedParentPlatformsHandler;return Object(V.jsx)("div",{className:U.a.wrapper,children:Object(V.jsxs)("div",{className:U.a.allPlatforms,children:[Object(V.jsx)("div",{className:U.a.block,children:t.map((function(e){return Object(V.jsx)(J,{id:e.id,checked:e.isChecked,name:e.name,setParentPlatformChecked:n},e.id)}))}),Object(V.jsx)("button",{onClick:function(){a(),c()},className:U.a.button,children:"\xd7"})]})})},q=t(27),Y=t.n(q),Z=function(e){var a=e.lineValue,t=e.setLineValue;return Object(V.jsxs)("div",{className:Y.a.lineBlock,children:[Object(V.jsx)("input",{className:Y.a.lineInput,type:"text",value:a,onChange:function(e){t(e.target.value)}}),Object(V.jsx)("button",{className:Y.a.lineButton,onClick:function(){t("")},children:"\xd7"})]})},$=t(23),ee=t.n($),ae=function(e){var a=e.sortingVisibleHandler,t=e.sortGames,n=function(e){t(e.currentTarget.value)};return Object(V.jsx)("div",{className:ee.a.wrapper,children:Object(V.jsxs)("div",{className:ee.a.panel,children:[Object(V.jsxs)("div",{className:ee.a.itemsBlock,children:[Object(V.jsx)("input",{type:"radio",name:"sorting",value:"rating",onClick:n}),"Max rating",Object(V.jsx)("input",{type:"radio",name:"sorting",value:"-rating",onClick:n}),"Min rating",Object(V.jsx)("input",{type:"radio",name:"sorting",value:"released",onClick:n}),"New",Object(V.jsx)("input",{type:"radio",name:"sorting",value:"-released",onClick:n}),"Old"]}),Object(V.jsx)("button",{onClick:a,className:ee.a.button,children:"\xd7"})]})})},te=t(12),ne=t.n(te),ce=c.a.memo((function(e){var a=e.games,t=e.isAddGames,c=e.getMoreGames,r=e.isPlatformsVisible,s=e.platformsVisibleHandler,i=e.lineValue,o=e.setLineValue,l=e.setParentPlatformChecked,d=e.searchGamesHandler,u=e.parentPlatforms,m=e.chooseCheckedParentPlatformsHandler,b=e.isSortingVisible,j=e.sortingVisibleHandler,h=e.sortGames,f=function(e){var a=e.isAddGames,t=e.getMoreGames,c=Object(n.useRef)();return Object(n.useEffect)((function(){var e=new IntersectionObserver((function(e){Object(w.a)(e,1)[0].isIntersecting&&t()}),{root:null,rootMargin:"0px",threshold:.1});return c.current&&e.observe(c.current),function(){c.current&&e.unobserve(c.current)}}),[c,a,t]),{ref:c}}({isAddGames:t,getMoreGames:c}).ref;return Object(V.jsxs)("div",{className:ne.a.block,children:[Object(V.jsxs)("div",{className:ne.a.blockWithHeadingAndSorting,children:[Object(V.jsx)("h1",{className:ne.a.heading,children:"Game display"}),Object(V.jsxs)("div",{className:ne.a.funcHeader,children:[r?Object(V.jsx)(Q,{platformsVisibleHandler:s,setParentPlatformChecked:l,chooseCheckedParentPlatformsHandler:m,parentPlatforms:u}):Object(V.jsx)("button",{onClick:s,className:ne.a.Button,children:"Choose platforms"}),Object(V.jsx)(Z,{lineValue:i,setLineValue:o}),Object(V.jsx)("button",{onClick:d,className:ne.a.Button,children:"Search"}),b?Object(V.jsx)(ae,{sortingVisibleHandler:j,sortGames:h}):Object(V.jsx)("button",{onClick:j,className:ne.a.Button,children:"Sorting"})]})]}),Object(V.jsxs)("div",{className:ne.a.gameBlock,children:[a.map((function(e){return Object(V.jsx)(z,{background:e.background_image,rating:e.metacritic,name:e.name,released:e.released,slug:e.slug},e.id)})),t&&Object(V.jsx)("div",{ref:f,style:{padding:"5px"}})]})]})})),re=function(){var e=Object(i.b)(),a=Object(i.c)((function(e){return e.games})),t=a.games,c=a.isAddGames,r=a.parentPlatforms,s=a.checkedParentPlatforms,o=Object(n.useState)(!1),l=Object(w.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(""),h=Object(w.a)(j,2),f=h[0],p=h[1],_=Object(n.useState)(!1),k=Object(w.a)(_,2),x=k[0],P=k[1];Object(n.useEffect)((function(){t.length&&e(N())}),[]);var E=Object(n.useCallback)((function(){c&&e(N())}),[c]),A=Object(n.useCallback)((function(){u(!d)}),[d]);return Object(V.jsx)(ce,{games:t,isAddGames:c,getMoreGames:E,isPlatformsVisible:d,platformsVisibleHandler:A,lineValue:f,setLineValue:p,parentPlatforms:r,setParentPlatformChecked:function(a,t){e(G(a,t))},chooseCheckedParentPlatformsHandler:function(){e(v(r,s))},searchGamesHandler:function(){var a;e((a=f,function(){var e=Object(b.a)(m.a.mark((function e(t,n){var c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n().games.checkedParentPlatforms,e.next=3,O(1,15,a,c);case 3:r=e.sent,t(S(r.data.results,0,!!r.data.next));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()))},isSortingVisible:x,sortingVisibleHandler:function(){P(!x)},sortGames:function(a){e(function(e){return function(){var a=Object(b.a)(m.a.mark((function a(t){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g(1,100,e);case 2:n=a.sent,t(S(n.data.results,1,!!n.data.next));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a))}})},se=t(47),ie=t.n(se),oe=function(){return Object(V.jsx)("div",{className:ie.a.display,children:Object(V.jsxs)(H.c,{children:[Object(V.jsx)(H.a,{path:"/",exact:!0,render:function(){return Object(V.jsx)(re,{})}}),Object(V.jsx)(H.a,{path:"/game/:slug",render:function(){return Object(V.jsx)(D,{})}}),Object(V.jsx)(H.a,{path:"*",render:function(){return Object(V.jsx)("div",{children:"404 NOT FOUND"})}})]})})},le=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,79)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,r=a.getLCP,s=a.getTTFB;t(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(i.a,{store:M,children:Object(V.jsx)(o.a,{children:Object(V.jsx)(oe,{})})})}),document.getElementById("root")),le()}},[[78,1,2]]]);
//# sourceMappingURL=main.94a0b511.chunk.js.map